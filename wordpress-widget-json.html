<div id="tornelo-standings"></div>
<script>
(function(){var c={jsonUrl:'https://geerdink.github.io/tornelo-ranking/tornelo-data.json',cacheDuration:30,cacheVersion:1};function T(e){this.config=e;this.cacheKey='tornelo-standings-cache'}T.prototype.init=function(){var e=this,t=document.getElementById('tornelo-standings');if(!t)return;this.showLoading(t);var n=this.loadCache();if(n&&this.isCacheValid(n)){console.log('Using cached data');this.renderStandings(t,n);return}console.log('Fetching fresh data from:',this.config.jsonUrl);fetch(this.config.jsonUrl).then(function(n){return n.json()}).then(function(n){console.log('Loaded',n.standings.length,'players');e.saveCache(n);e.renderStandings(t,n)}).catch(function(n){console.error('Error:',n);e.showError(t,n.message)})};T.prototype.showLoading=function(e){e.textContent='';var t=document.createElement('div');t.style.cssText='text-align:center;padding:20px;color:#666';t.textContent='Loading standings...';e.appendChild(t)};T.prototype.showError=function(e,t){e.textContent='';var n=document.createElement('div');n.style.cssText='border:2px solid #d32f2f;background:#ffebee;color:#c62828;padding:15px;border-radius:4px;margin:10px 0';var i=document.createElement('strong');i.textContent='Error loading standings';n.appendChild(i);n.appendChild(document.createElement('br'));n.appendChild(document.createTextNode(t));n.appendChild(document.createElement('br'));n.appendChild(document.createElement('br'));var r=document.createElement('button');r.textContent='Retry';r.style.cssText='background:#d32f2f;color:white;border:none;padding:8px 16px;border-radius:4px;cursor:pointer';r.onclick=function(){location.reload()};n.appendChild(r);e.appendChild(n)};T.prototype.renderStandings=function(e,t){e.textContent='';var n=document.createElement('style');n.textContent='.tornelo-standings-table{width:100%;border-collapse:collapse;margin:20px 0;box-shadow:0 2px 8px rgba(0,0,0,0.1);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.tornelo-standings-table th{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:12px 8px;text-align:left;font-weight:600}.tornelo-standings-table td{padding:10px 8px;border-bottom:1px solid #e0e0e0}.tornelo-standings-table tr:hover{background-color:#f5f5f5}.rank-cell{width:60px;text-align:center;font-size:1.2em}.name-cell{font-weight:500}.section-score{text-align:center;color:#555;width:80px}.total-cell{text-align:center;background-color:#f9f9f9;width:80px}@media (max-width:768px){.tornelo-standings-table{font-size:14px}.tornelo-standings-table th,.tornelo-standings-table td{padding:8px 4px}}';document.head.appendChild(n);var r=document.createElement('table');r.className='tornelo-standings-table';var i=document.createElement('thead'),s=document.createElement('tr'),o=document.createElement('th');o.textContent='Rank';s.appendChild(o);var u=document.createElement('th');u.textContent='Name';s.appendChild(u);for(var a=0;a<t.sections.length;a++){var f=document.createElement('th');f.textContent=t.sections[a];s.appendChild(f)}var l=document.createElement('th');l.textContent='Total';s.appendChild(l);i.appendChild(s);r.appendChild(i);var h=document.createElement('tbody');for(var p=0;p<t.standings.length;p++){var d=t.standings[p],v=document.createElement('tr'),m=document.createElement('td');m.className='rank-cell';if(d.rank===1||d.rank===2||d.rank===3){var g=document.createElement('span');g.style.fontWeight='bold';g.style.color=d.rank===1?'gold':d.rank===2?'silver':'#cd7f32';g.textContent=d.rank;m.appendChild(g)}else{m.textContent=d.rank}v.appendChild(m);var y=document.createElement('td');y.className='name-cell';y.textContent=d.name;v.appendChild(y);for(var b=0;b<t.sections.length;b++){var w=t.sections[b],E=document.createElement('td');E.className='section-score';E.textContent=d.sections[w]!==undefined?d.sections[w]:'-';v.appendChild(E)}var C=document.createElement('td');C.className='total-cell';var S=document.createElement('strong');S.textContent=d.total.toFixed(1);C.appendChild(S);v.appendChild(C);h.appendChild(v)}r.appendChild(h);e.appendChild(r);var x=document.createElement('div');x.style.cssText='text-align:center;color:#999;font-size:0.9em;margin-top:10px';x.textContent='Last updated: '+new Date(t.updatedAt).toLocaleString();e.appendChild(x)};T.prototype.loadCache=function(){try{var e=localStorage.getItem(this.cacheKey);return e?JSON.parse(e):null}catch(t){return null}};T.prototype.saveCache=function(e){try{localStorage.setItem(this.cacheKey,JSON.stringify({version:this.config.cacheVersion,timestamp:Date.now(),data:e}))}catch(t){}};T.prototype.isCacheValid=function(e){if(!e||e.version!==this.config.cacheVersion)return false;return(Date.now()-e.timestamp)/1e3/60<this.config.cacheDuration};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',function(){new T(c).init()})}else{new T(c).init()}})();
</script>
